<Window x:Class="BadmintonClub.Views.Tournaments.MemberSelectorDialog"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Chọn thành viên tham gia giải đấu" 
        Width="800" Height="600"
        WindowStartupLocation="CenterOwner"
        Background="#F5F5F5">
    <Grid Margin="20">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Header -->
        <Border Grid.Row="0" 
                Background="#4CAF50" 
                Padding="15" 
                Margin="0,0,0,15"
                CornerRadius="8">
            <StackPanel>
                <TextBlock Text="Chọn thành viên tham gia" 
                           FontSize="18" 
                           FontWeight="Bold" 
                           Foreground="White"/>
                <TextBlock Text="Chọn thành viên từ danh sách bên trái, sau đó nhấn nút '→' để thêm vào danh sách thi đấu" 
                           FontSize="12" 
                           Foreground="White" 
                           Opacity="0.9"
                           Margin="0,5,0,0"/>
            </StackPanel>
        </Border>

        <!-- Main content -->
        <Grid Grid.Row="1">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>

            <!-- Danh sách thành viên Active -->
            <Border Grid.Column="0" 
                    Background="White" 
                    BorderBrush="#E0E0E0" 
                    BorderThickness="1"
                    CornerRadius="8"
                    Padding="10">
                <DockPanel>
                    <TextBlock DockPanel.Dock="Top" 
                               Text="Thành viên Active" 
                               FontWeight="Bold" 
                               FontSize="14"
                               Margin="0,0,0,10"/>
                    <ListBox x:Name="LstAvailable"
                             SelectionMode="Multiple"
                             BorderThickness="0">
                        <ListBox.ItemTemplate>
                            <DataTemplate>
                                <StackPanel Orientation="Horizontal" Margin="0,5">
                                    <TextBlock Text="{Binding HoTen}" 
                                               Width="180" 
                                               FontSize="13"/>
                                    <TextBlock Text="{Binding Elo, StringFormat='(Elo: {0})'}" 
                                               Foreground="#757575" 
                                               FontSize="12"
                                               Margin="10,0,0,0"/>
                                </StackPanel>
                            </DataTemplate>
                        </ListBox.ItemTemplate>
                    </ListBox>
                </DockPanel>
            </Border>

            <!-- Control buttons -->
            <StackPanel Grid.Column="1" 
                        VerticalAlignment="Center" 
                        Margin="20,0">
                <Button Content="→" 
                        Width="50" 
                        Height="40" 
                        FontSize="20"
                        FontWeight="Bold"
                        Margin="0,5"
                        Click="BtnAdd_Click"
                        ToolTip="Thêm thành viên đã chọn"/>
                <Button Content="←" 
                        Width="50" 
                        Height="40" 
                        FontSize="20"
                        FontWeight="Bold"
                        Margin="0,5"
                        Click="BtnRemove_Click"
                        ToolTip="Bỏ thành viên đã chọn"/>
                <Button Content="⇉" 
                        Width="50" 
                        Height="40" 
                        FontSize="20"
                        FontWeight="Bold"
                        Margin="0,20,0,5"
                        Click="BtnAddAll_Click"
                        ToolTip="Thêm tất cả"/>
                <Button Content="⇇" 
                        Width="50" 
                        Height="40" 
                        FontSize="20"
                        FontWeight="Bold"
                        Margin="0,5"
                        Click="BtnClearAll_Click"
                        ToolTip="Xóa tất cả"/>
            </StackPanel>

            <!-- Đã chọn -->
            <Border Grid.Column="2" 
                    Background="White" 
                    BorderBrush="#E0E0E0" 
                    BorderThickness="1"
                    CornerRadius="8"
                    Padding="10">
                <DockPanel>
                    <StackPanel DockPanel.Dock="Top" 
                                Orientation="Horizontal" 
                                Margin="0,0,0,10">
                        <TextBlock Text="Đã chọn (" 
                                   FontWeight="Bold" 
                                   FontSize="14"/>
                        <TextBlock x:Name="TxtCount" 
                                   Text="0" 
                                   FontWeight="Bold" 
                                   FontSize="14"
                                   Foreground="#4CAF50"/>
                        <TextBlock Text=" người)" 
                                   FontWeight="Bold" 
                                   FontSize="14"/>
                    </StackPanel>
                    <ListBox x:Name="LstSelected"
                             BorderThickness="0">
                        <ListBox.ItemTemplate>
                            <DataTemplate>
                                <StackPanel Orientation="Horizontal" Margin="0,5">
                                    <TextBlock Text="{Binding HoTen}" 
                                               Width="180" 
                                               FontSize="13"/>
                                    <TextBlock Text="{Binding Elo, StringFormat='(Elo: {0})'}" 
                                               Foreground="#757575" 
                                               FontSize="12"
                                               Margin="10,0,0,0"/>
                                </StackPanel>
                            </DataTemplate>
                        </ListBox.ItemTemplate>
                    </ListBox>
                </DockPanel>
            </Border>
        </Grid>

        <!-- Footer buttons -->
        <StackPanel Grid.Row="2" 
                    Orientation="Horizontal" 
                    HorizontalAlignment="Right" 
                    Margin="0,15,0,0">
            <Button Content="✓ Xác nhận" 
                    Click="BtnOK_Click"
                    Width="120" 
                    Height="40"
                    FontSize="14"
                    FontWeight="Bold"
                    Background="#4CAF50"
                    Foreground="White"
                    BorderThickness="0"
                    Margin="0,0,10,0"
                    Cursor="Hand"/>
            <Button Content="✕ Hủy" 
                    Click="BtnCancel_Click"
                    Width="120" 
                    Height="40"
                    FontSize="14"
                    Background="#757575"
                    Foreground="White"
                    BorderThickness="0"
                    Cursor="Hand"/>
        </StackPanel>
    </Grid>
</Window>
